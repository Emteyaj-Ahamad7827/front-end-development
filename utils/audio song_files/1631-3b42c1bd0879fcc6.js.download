(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1631],{91631:function(e,t,n){"use strict";n.r(t),n.d(t,{Basic:function(){return b},BeaconComponentContextProvider:function(){return g},Impression:function(){return y},PageView:function(){return _},PreUserEventLink:function(){return h},UserEventButton:function(){return T},UserEventLink:function(){return A},useManualBeacon:function(){return k}});var i=n(57437),r=n(2265),s=n(87138),a=n(98024),u=n(86805),o=n(34004),l=n(38438),c=n(16463);function d(){var e,t,n,i;let s=(0,r.useContext)(a.Il),u=(null==s?void 0:null===(e=s.state)||void 0===e?void 0:e.environment)==="prod",o=(null!==(i=null===(n=(0,c.useSearchParams)())||void 0===n?void 0:null===(t=n.get("debug"))||void 0===t?void 0:t.indexOf("beacons"))&&void 0!==i?i:-1)>-1;return!u&&o}var p=n(92411),v=n(5505),f=n(72211),m=n(10875);let E=(0,o.Y$)(s.default);function g(e){var t;let{children:n}=e,r=null!==(t=(0,c.usePathname)())&&void 0!==t?t:"unknownPath",s=(0,p.eL)(r,"en-us");"/"==s&&(s="/home");let a=d();return(0,i.jsx)(l.vb.Provider,{value:{isEnabled:a,path:s,allowKeysList:["action","artistId","destination","clientbeaconuuid","commonTrackId","campaignId","eventId","hasTickets","label","lyricstype","lyricsId","origin","outcome","playlistId","providerName","providerDescription","removed","section","store","songId","shazamTrackId","shazamVenueId","type","trackAdamId","genreName","deeplinkreferrer","expName","cardPosition","time"],transformMap:{artistId:"artist_adam_id",eventId:"shazam_eventid",hasTickets:"hastickets",lyricsId:"lyricsid",screenName:"screenname",songId:"track_adam_id",trackAdamId:"track_adam_id",shazamTrackId:"trackkey",providerName:"providername",providerDescription:"providerdesc",shazamVenueId:"shazam_venueid",genreName:"genre_name",cardPosition:"cardposition",campaignId:"campaignid",expName:"exp_name"}},children:n})}let T=(0,l.rK)({UserEvent:u.LT}),h=(0,l.Y$)({UserEventLink:E}),A=e=>{let t=d(),{href:n,onClick:s,className:u,...o}=e,[l,c]=(0,r.useState)(n),{state:{platform:{bot:p}}}=(0,r.useContext)(a.Il),{startTransition:f}=(0,r.useContext)(v.q),E=(0,r.useCallback)(e=>{f(()=>{null==s||s(e)})},[f,s]);return p&&(o.prefetch=!1),(0,r.useEffect)(()=>{if(t&&(null==n?void 0:n.startsWith("/"))&&"undefined"!=typeof document){let e=new URL(n,document.baseURI);e.searchParams.set("debug","beacons"),c(e.href)}else c(n)},[n,t]),(0,i.jsx)(h,{...o,onClick:E,href:l,className:(0,m.Z)(u,e.replace?"shz-replace":"")})};function I(){let{state:{inApp:e}}=(0,r.useContext)(a.Il),{state:{aboutBridge:t}}=(0,r.useContext)(f.B),[n,i]=(0,r.useState)(!e);return(0,r.useEffect)(()=>{e&&t&&i(!0)},[e,t]),{allowSend:n}}let N=(0,l.pk)({Basic:u.Bb});function _(e){let{allowSend:t}=I();return(0,i.jsx)(N,{...e,type:"pageview",allowSend:t})}let S=(0,l._q)({Impression:u.Ub});function y(e){let{allowSend:t}=I();return(0,i.jsx)(S,{...e,allowSend:t})}function b(e){let{allowSend:t}=I();return(0,i.jsx)(N,{...e,allowSend:t})}let k=(0,l.ho)({useManualBeacon:u.Gv})},5505:function(e,t,n){"use strict";n.d(t,{k:function(){return o},q:function(){return u}});var i=n(57437),r=n(2265),s=n(3835),a=n.n(s);let u=(0,r.createContext)({isPending:!1,startTransition:()=>{}});function o(e){let{children:t}=e,[n,s]=(0,r.useTransition)();return(0,i.jsxs)(u.Provider,{value:{isPending:n,startTransition:s},children:[n&&(0,i.jsx)("div",{className:a().bar}),t]})}},72211:function(e,t,n){"use strict";n.d(t,{B:function(){return v},Y:function(){return f}});var i=n(57437),r=n(2265),s=n(98024),a=n(78e3),u=n(61987);async function o(e,t,n){if(e){let i;try{if(e){let r=await fetch("/services/sd/s/a2st/".concat(t,"/").concat(n,"/").concat(e));i=(await r.json())[e]}}catch(e){}return i}return e}var l=n(10875),c=n(45658),d=n.n(c),p=n(55807);let v=(0,r.createContext)({state:{inAppNav:{inAppSong:!1,inAppTrack:!1,inAppArtist:!1},isAppVisible:!0}});function f(e){let{children:t}=e,n=function(){let[e,t]=(0,r.useReducer)(E,{inAppNav:{inAppSong:!1,inAppTrack:!1,inAppArtist:!1},isAppVisible:!0}),{state:{inApp:n,platform:{ios:i,android:u}},dispatch:o}=(0,r.useContext)(s.Il),{setIsUserAuthorized:l}=(0,p.qm)(),[c,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{async function e(){var e,r;let s=function(){let e;try{WebViewJavascriptBridge.setMessageHandler(function(i){var r;let s=i;"string"==typeof i&&(s=JSON.parse(i));let a=s.responseType||s.type;null===(r=t[a])||void 0===r||r.forEach(e=>{let{resolve:t,timeoutCt:n}=e;clearTimeout(n),t(s.data)}),t[a]=null,"aboutBridge"==a&&(e=s.data),n[a]&&n[a].forEach(e=>{e(s.data)})})}catch(e){}let t={},n={};return{sendMessage:async function(n){return new Promise(i=>{var r;let{type:s}=n;if((null==e?void 0:null===(r=e.supportedCommands)||void 0===r?void 0:r.indexOf(s))!==-1){t[s]||(t[s]=[]);let e=setTimeout(()=>{t[s]=null,i({timeout:!0})},5e3);t[s].push({resolve:i,timeoutCt:e}),WebViewJavascriptBridge.sendMessage(JSON.stringify(n))}else i({})})},addEventListener:function(e,t){n[e]||(n[e]=[]),n[e].push(t)},removeEventListener:function(e,t){if(n[e]){let i=n[e].indexOf(t);i>-1&&n[e].splice(i,1)}}}}();t({type:"initBridge",value:{webBridge:s}});let c=await s.sendMessage({type:"aboutBridge",data:{}});(null==c?void 0:null===(e=c.client)||void 0===e?void 0:e.installationID)&&o({type:"setInid",value:null==c?void 0:null===(r=c.client)||void 0===r?void 0:r.installationID}),s.addEventListener("applicationBackgrounded",()=>{t({type:"setIsAppVisible",value:!1})}),s.addEventListener("viewAppeared",()=>{t({type:"setIsAppVisible",value:!0})}),t({type:"setAboutBridge",value:{aboutBridge:c}}),t({type:"setInAppNav",value:(0,a.JX)({inApp:n,ios:i,android:u,appVer:c.client.version})}),"member"==c.appleMusicMembership&&l(!0)}c&&e()},[c,n,i,u,o]),(0,r.useEffect)(()=>{function e(){d(!0)}return n&&("undefined"!=typeof WebViewJavascriptBridge?d(!0):document.addEventListener("WebViewJavascriptBridgeReady",e)),()=>{document.removeEventListener("WebViewJavascriptBridgeReady",e)}},[n]),{state:e,dispatch:t}}();return(0,i.jsx)(v.Provider,{value:n,children:(0,i.jsx)(m,{children:t})})}function m(e){let{children:t}=e,{state:{inApp:n}}=(0,r.useContext)(s.Il),{handleClick:c,isShimShowing:p}=function(){let{state:{country:e,locale:t,inApp:n}}=(0,r.useContext)(s.Il),{state:{webBridge:i,aboutBridge:l,inAppNav:{inAppSong:c}}}=(0,r.useContext)(v),[d,p]=(0,r.useState)(n);return(0,r.useEffect)(()=>{setTimeout(()=>p(!1),5e3)},[]),(0,r.useEffect)(()=>{l&&p(!1)},[l]),{handleClick:(0,r.useCallback)(async r=>{let s=r.target.closest("a");if((null==s?void 0:s.tagName.toUpperCase())=="A"){let d=s.href,{id:p,type:v}=(0,a.yA)(n,d),f=null==l?void 0:l.supportedCommands;if(v){if(r.preventDefault(),v==u.v.song&&(null==f?void 0:f.includes("trackResult"))){let n;n=c?{adamid:p}:{id:await o(p,e,t)},null==i||i.sendMessage({type:"trackResult",data:n});return}if(v==u.v.artist&&(null==f?void 0:f.includes("artist"))){null==i||i.sendMessage({type:"artist",data:{id:p}});return}}let m=d.includes("shazam.com"),E=s.className.includes("shz-replace");v==u.v.event&&m&&(null==f?void 0:f.includes("startIntents"))?(r.preventDefault(),null==i||i.sendMessage({type:"startIntents",data:{intents:[d]}})):m&&!E&&(null==f?void 0:f.includes("newWebView"))&&(r.preventDefault(),null==i||i.sendMessage({type:"newWebView",data:{url:d,pageTitle:"Shazam"}}))}},[n,i,null==l?void 0:l.supportedCommands,c,e,t]),isShimShowing:d}}();return(0,r.useEffect)(()=>(n&&document.body.addEventListener("click",c,!0),()=>{n&&document.body.removeEventListener("click",c,!0)}),[c,n]),(0,i.jsx)("div",{className:(0,l.Z)({[d().shwebShim]:p}),children:t})}function E(e,t){var n,i;switch(t.type){case"initBridge":return{...e,webBridge:null===(n=t.value)||void 0===n?void 0:n.webBridge};case"setAboutBridge":return{...e,aboutBridge:null===(i=t.value)||void 0===i?void 0:i.aboutBridge};case"setInAppNav":return{...e,inAppNav:t.value};case"setIsAppVisible":return{...e,isAppVisible:t.value}}}},77185:function(e,t,n){"use strict";n.d(t,{Y:function(){return r},Z:function(){return s}});var i=n(83706);let r=Object.keys(i.nD),s=i.al},92411:function(e,t,n){"use strict";n.d(t,{Ds:function(){return m},JU:function(){return v},T6:function(){return f},Xg:function(){return E},aq:function(){return c},eL:function(){return d},h:function(){return g},oF:function(){return p},z:function(){return l}});var i=n(57437),r=n(2265),s=n(89726),a=n(36226),u=n(83706),o=n(77185);function l(e,t,n){let[s,a]=e.split(t);return[(0,i.jsx)(r.Fragment,{children:s},"start"),(0,i.jsx)(r.Fragment,{children:n},"component"),(0,i.jsx)(r.Fragment,{children:a},"end-component")]}function c(e,t){return e.startsWith("/")?("en-us"==t?"":"/".concat(t))+e:e}function d(e,t){var n,i;let[r,s]=null!==(n=null==e?void 0:e.split("?"))&&void 0!==n?n:[],a=null!==(i=null==r?void 0:r.split("/").slice(1))&&void 0!==i?i:[],o=Object.keys(u.nD).includes(a[0]);return(t!==u.al?"/"+t:"")+"/"+a.slice(o?1:0).join("/")+(s?"?"+s:"")}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(0,a.oF)(null!=e?e:"");return void 0!=t&&""===n?t:n}function v(e){var t;return null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:"us"}function f(e){return e&&e.replace("https://is1-ssl.mzstatic.com","/mkimage")}function m(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;var i=this;return function(){for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];clearTimeout(t),t=setTimeout(()=>{e.apply(i,s)},n)}}function E(e){var t,n,i;let r=d(e,"en-us"),a=null!==(n=null==r?void 0:null===(t=r.split("/"))||void 0===t?void 0:t[1])&&void 0!==n?n:"",u={"":s.m.HOME,apps:s.m.APPS,album:s.m.ALBUM,artist:s.m.ARTIST,track:s.m.TRACK,charts:s.m.CHARTS,events:s.m.EVENTS,playlist:s.m.PLAYLIST,song:s.m.TRACK,shazamkit:s.m.SHAZAMKIT,event:s.m.EVENTS_EVENT,radiospins:s.m.RADIOSPINS,"event-exclusive":s.m.EVENTS_EVENT_EXCLUSIVE,announcement:s.m.ANNOUNCEMENT};return null!==(i=null==u?void 0:u[a])&&void 0!==i?i:s.m.UNKNOWN}function g(e,t){let n=e.split("/"),i=n[1];return o.Y.includes(i)&&n[2]&&(i=n[2]),!(n.includes("artist")&&n.includes("events"))&&t.includes(i)}},89726:function(e,t,n){"use strict";var i,r;n.d(t,{m:function(){return i}}),(r=i||(i={})).ALBUM="album",r.APPS="apps",r.ARTIST="artist",r.CHARTS="charts",r.HIGHLIGHTS="highlights",r.DETAILS="details",r.EXAMPLES="examples",r.EMBED_SONG="embed_song",r.EVENTS_EVENT="events_event",r.EVENTS_TICKETS="events_tickets",r.EVENTS_LIST="events_list",r.EVENTS_LIST_ARTIST="events_artist_search",r.EVENTS_LIST_LOCATION="events_location_search",r.EVENTS_LIST_DATE="events_date_search",r.EVENTS_LIST_GENRE="events_genre_search",r.EVENTS="events",r.EVENTS_VENUE="events_venue",r.EVENTS_ARTIST_TOUR="events_artist_tour",r.EVENTS_EVENT_EXCLUSIVE="event_exclusive",r.FASTFWD_HOME="fastfwd_home",r.FASTFWD_ARTIST="fastfwd_artist",r.NAVBAR="navbar",r.HOME="home",r.MICDENIED="micdenied",r.NOMATCH="nomatch",r.PLAYERBAR="playerbar",r.PLAYLIST="playlist",r.SPOTLIGHT="spotlight",r.SHAZAMKIT="shazamkit",r.SONG="song",r.TAGGING="tagging",r.TRACK="track",r.RADIOSPINS="radio_spins",r.ANNOUNCEMENT="annoucement",r.UNKNOWN="unknown",r.VIDEO_PLAYER="video_player",r.ARTIST_ANNOUNCEMENT="artist_annoucement"},61987:function(e,t,n){"use strict";n.d(t,{V:function(){return r},v:function(){return i}});let i={artist:"artist",song:"song",ffartist:"ffartist",event:"event"},r=[{regExLookup:/\/artist\/[^/]+\/([^?/]+)/,type:i.artist,getInfo:e=>({id:null==e?void 0:e[1],type:i.artist})},{regExLookup:/\/event\/[^/]+\/([^?/]+)/,type:i.event,getInfo:e=>({id:null==e?void 0:e[1],type:i.event})},{regExLookup:/\/song\/([^/]+)\/[^?]/,type:i.song,getInfo:e=>({id:null==e?void 0:e[1],type:i.song})},{regExLookup:/\/fastforward2025\/artist\//,type:i.ffartist,getInfo:()=>({newWebView:!0})}]},78e3:function(e,t,n){"use strict";n.d(t,{Et:function(){return o},JX:function(){return c},yA:function(){return l}});var i=n(2265),r=n(61987),s=n(36226),a=n(72211);function u(e){try{let t=new URL(e).hostname;return/shazam\.com/i.test(t)}catch(e){return!1}}function o(e){let{state:{inAppNav:t}}=(0,i.useContext)(a.B),{inAppTrack:n,inAppArtist:s}=null!=t?t:{};return(0,i.useMemo)(()=>{if(u(e)&&(n||s)){let t=r.V.find(t=>{let{regExLookup:n}=t;return e.match(n)});if((null==t?void 0:t.type)=="song")return!!t&&n;if((null==t?void 0:t.type)=="artist")return!!t&&s}return!0},[n,s,e])}function l(e,t){if(e&&u(t)){let e=r.V.find(e=>{let{regExLookup:n}=e;return t.match(n)});if(e){let n=t.match(e.regExLookup);return e.getInfo(n)}}return{}}function c(e){let{inApp:t,ios:n,android:i,appVer:r}=e,a={};return t&&(n?a={inAppSong:(0,s.F)(r,"17.18"),inAppTrack:!0,inAppArtist:(0,s.F)(r,"17.18")}:i&&(a={inAppSong:!1,inAppTrack:!0,inAppArtist:!1})),a}},3835:function(e){e.exports={bar:"Transition_bar__VJt84",transitionGrow:"Transition_transitionGrow__8y9HN"}},45658:function(e){e.exports={shwebShim:"WebBridge_shwebShim__zkRPZ"}}}]);