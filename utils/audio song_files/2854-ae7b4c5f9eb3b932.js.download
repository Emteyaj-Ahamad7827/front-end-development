(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2854],{65197:function(e,t,n){"use strict";n.d(t,{MO:function(){return i.IconShazamLogo},Wc:function(){return i.IconCross}});var i=n(83247)},70018:function(e,t,n){"use strict";n.d(t,{sW:function(){return g},fV:function(){return h},a7:function(){return b}});var i=n(57437),a=n(2265),s=n(10875),r=n(28229),o=n.n(r),l=n(22498),c=n(9990),u=n(91543),_=n(91631),d=n(89726);function m(e){let{details:t}=e,n=t.attributes.title,a=t.attributes.primaryArtist,r="#".concat(t.attributes.artwork.bgColor),m=t.id,g=()=>(0,u._T)(r)?"white":"black";return(0,i.jsxs)(l.E.div,{style:{backgroundColor:r},className:(0,s.Z)(o().interstitialContainer,{[o().darkText]:(0,u._T)(r)}),animate:{y:["0vh","0vh","0vh","-120vh"]},transition:{duration:3.2,times:[0,.2,.8,1]},children:[(0,i.jsx)(l.E.div,{initial:{opacity:0},animate:{y:["10vh","0vh","0vh","-20vh"],opacity:[0,1,1,0]},transition:{duration:3,delay:.2,ease:"easeOut",times:[0,.2,.8,1]},children:(0,i.jsx)(c.x,{sizes:["xs-4xl","md-6xl"],color:g(),className:(0,s.Z)(o().titleText,o().lineClamp),children:n})}),(0,i.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:[0,1,1,0],y:["8vh","0vh","0vh","-20vh"]},transition:{duration:3,ease:"easeOut",delay:.2,times:[0,.2,.8,1]},children:(0,i.jsx)(c.x,{color:g(),sizes:["xs-2xl","md-4xl"],className:(0,s.Z)(o().artistText,o().lineClamp),children:a})}),(0,i.jsx)(_.PageView,{screenName:d.m.TRACK,shazamTrackId:m})]})}let g=(0,a.createContext)({params:{},isInterstitialVisible:!1,setInterstitialVisibility:()=>{}});function b(){return(0,a.useState)({visible:!1,track:null})}function h(){let e=(0,a.useContext)(g);return(0,i.jsx)(i.Fragment,{children:(null==e?void 0:e.isInterstitialVisible)&&(0,i.jsx)(m,{details:e.params})})}},92854:function(e,t,n){"use strict";n.d(t,{FloatingButtonContainer:function(){return w}});var i=n(57437),a=n(2265),s=n(34004),r=n(94076),o=n(47362),l=n.n(o),c=n(19116),u=n(39188),_=n(16463),d=n(70018),m=n(91631),g=n(89726),b=n(18507);let h=e=>(JSON.parse(localStorage.getItem("webrec"))||{})[e],x=(e,t)=>{let n={[e]:t,...JSON.parse(localStorage.getItem("webrec"))||{}};localStorage.setItem("webrec",JSON.stringify(n))};var f=n(71010),p=n(98024);function w(e){let t=(0,_.useRouter)(),n=(0,a.useContext)(d.sW),o=(0,s.HW)(),{isMobile:w}=(0,f.Fe)(),{state:{inid:v}}=(0,a.useContext)(p.Il),C={locale:e},S=[o("website_webrec_listening_headline_1",C),o("website_webrec_listening_headline_2",C),o("website_webrec_listening_headline_3",C),o("website_webrec_listening_headline_4",C)],j=[o("website_webrec_listening_subtitle_1",C),o("website_webrec_listening_subtitle_2",C),o("website_webrec_listening_subtitle_3",C),o("website_webrec_listening_subtitle_4",C)],y=o("website_webrec_clicktoshazam",C),T=o("website_webrec_fab_identify_songs",C),N=o("website_webrec_fab_nomatch_headline",C),z=o("website_webrec_fab_nomatch_content",C),I=o("website_webrec_turn_mic_on",C),L=o("website_webrec_needs_mic_subtitle",C),k={microphoneDisabledTooltip:o("website_webrec_fab_microphone_disabled",C),gotItButtonText:o("website_webrec_button_got_it",C)},B={fabAriaLabel:o("website_webrec_fab_aria_label",C),fabAriaLabelTooltipOpen:o("website_webrec_fab_aria_label_tooltip_open",C),fabAriaLabelTooltip:o("website_webrec_fab_aria_label_tooltip",C),fabAriaLabelCloseTooltip:o("website_webrec_fab_aria_label_close_tooltip",C)},[E,F]=(0,a.useState)(!1),[A,D]=(0,a.useState)(!1),[M,V]=(0,a.useState)(y),[H,O]=(0,a.useState)(T),[W,G]=(0,a.useState)(!1),[P,X]=(0,a.useState)(!1),[K,R]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)(!1),[J,q]=(0,a.useState)(!1),[Q,U]=(0,a.useState)(!1),$=(0,m.useManualBeacon)(),ee=(0,a.useCallback)(e=>{$(e)},[$]),et=(e,i,a)=>{n.setInterstitialVisibility({visible:!0,track:e}),setTimeout(()=>n.setInterstitialVisibility(!1,{}),3200),F(!1),V(y),O(T);let s={...b.pS["ue-tag-success"],track_adam_id:i,recordtime:Date.now()-a};h("prev_match")||x("prev_match",!0),ee(s),t.push("/song/".concat(i,"/"))},en=(e,t)=>{let n={...b.pS["ue-listen-ended"],outcome:e,track_adam_id:t};"no_match"===e?(X(!0),V(N),O(z)):"cancel"===e&&X(!1),ee(n)},ei=async()=>{try{let t=await eo();t?(t.getAudioTracks()[0].stop(),(0,r.kk)(e.loc,et,en,v),A&&D(!1),F(!0)):ea()}catch(e){ea()}},ea=()=>{P&&X(!0),G(!0),V(I),O(L)},es=()=>{X(!1),x("tipsDismissed",!0),w&&q(!0)},er=()=>{!(window.scrollY>100)||P||K||Y||J||(X(!0),setTimeout(()=>{X(!1),Z(!0)},7500))};(0,a.useEffect)(()=>{let e=()=>er();if(!Q){let e=h("prev_match"),t=h("tipsDismissed"),n=!!(e||t);R(n),X(!n),w&&!n&&X(!1),U(!0)}if(w)return window.removeEventListener("scroll",e),window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[P,w]);let eo=()=>navigator.mediaDevices.getUserMedia({audio:!0});return(0,i.jsx)(i.Fragment,{children:Q&&(0,i.jsxs)("div",{className:l().floatingButtonContainer,children:[(0,i.jsx)(u.FloatingShazamButton,{mainText:M,secondaryText:H,tooltipVisible:P,animateKey:M,disabled:W,fabTooltipStaticText:k,ariaLabels:B,onDismiss:()=>es(),onButtonClick:ei}),W&&(0,i.jsx)(m.PageView,{screenName:g.m.MICDENIED}),E&&!A&&(0,i.jsx)(c.ListeningScreen,{mainTextStrings:S,subTextStrings:j,cancelFunction:e=>{D(!0),(0,r.po)(),e?X(!1):(V(N),O(z))}})]})})}},39188:function(e,t,n){"use strict";n.d(t,{FloatingShazamButton:function(){return f}});var i=n(57437),a=n(48783),s=n.n(a),r=n(24841),o=n(83070),l=n(94674),c=n(2265),u=n(22498),_=n(65197),d=n(9990),m=n(47957),g=n(91631),b=n(92411),h=n(16463),x=n(18507);function f(e){let t,{mainText:n,secondaryText:a,tooltipVisible:f,animateKey:p,disabled:w,fabTooltipStaticText:v,ariaLabels:C,onDismiss:S,onButtonClick:j}=e,y=(0,c.useRef)(null),T=(0,h.usePathname)(),[N,z]=(0,c.useState)(f),{fabAriaLabelTooltipOpen:I,fabAriaLabel:L,fabAriaLabelTooltip:k,fabAriaLabelCloseTooltip:B}=C,{microphoneDisabledTooltip:E,gotItButtonText:F}=v,A=N?I:L,{refs:D,floatingStyles:M,context:V}=(0,r.YF)({whileElementsMounted:o.Me,middleware:[(0,l.x7)({element:y}),(0,l.X5)((f&&(t={alignment:"end"}),t)),(0,l.cv)(20)],open:N,onOpenChange:z}),H=(e,t)=>{t.stopPropagation(),z(e),S(e)};return(0,c.useEffect)(()=>{z(f)},[N,f]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:s().shazamButton,ref:D.setReference,children:[(0,i.jsxs)("div",{ref:D.setFloating,style:M,children:[(0,i.jsx)(u.E.div,{animate:{opacity:[0,1],x:[20,0]},transition:{duration:.5},children:N&&(0,i.jsx)(r.Y$,{ref:y,context:V,fill:"white",stroke:"#e4e4e4",strokeWidth:1,height:10,width:15,className:s().arrow})},p),N&&(0,i.jsxs)(u.E.div,{"aria-label":k,className:s().calloutContainer,animate:{opacity:[0,1],x:[20,0]},transition:{duration:.5},children:[(0,i.jsx)("div",{className:s().closeButtonContainer,onClick:e=>{H(!1,e)},role:"button",tabIndex:0,"aria-label":B,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),H(!1,e))},children:(0,i.jsx)(_.Wc,{size:"2xs",color:"#8e8e93"})}),(0,i.jsx)(d.x,{sizes:["sm-small","md-large"],color:"black",weight:"bold",className:s().mainText,children:n}),(0,i.jsx)(d.x,{sizes:["sm-extraSmall","md-base"],color:"gray-900",weight:"bold",className:s().subText,children:a}),w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.x,{size:"small",color:"gray-900",className:s().disabledText,children:E}),(0,i.jsx)(m.z,{caption:F,className:s().gotItButton,variant:"primary",display:"block",onClick:e=>H(!1,e)})]})]},"".concat(p,"-1"))]}),(0,i.jsx)(g.Impression,{screenName:(0,b.Xg)(T),providerName:"shazambutton",dataTestId:"shazamButton",children:(0,i.jsx)(g.UserEventButton,{...x.pS["ue-fab-click"],screenName:(0,b.Xg)(T),debugBadgeVariant:"short",dataTestId:"shazamStatus",children:(0,i.jsx)(u.E.button,{className:s().buttonContainer,onClick:e=>{e.preventDefault(),j()},"aria-label":A,animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:3},children:(0,i.jsx)("div",{className:s().logoContainer,children:(0,i.jsx)(_.MO,{customHeight:55,customWidth:55,color:"#08f"})})})})})]})})}},19116:function(e,t,n){"use strict";n.d(t,{ListeningScreen:function(){return h}});var i=n(57437),a=n(48130),s=n.n(a),r=n(2265),o=n(9990),l=n(47957),c=n(83247),u=n(22498),_=n(18507),d=n(91631),m=n(89726),g=n(94076),b=n(86805);function h(e){let{mainTextStrings:t,subTextStrings:n,cancelFunction:a}=e,[h,x]=(0,r.useState)(0),[f,p]=(0,r.useState)(!1),w=e=>{"no_match"===e&&p(!0),(0,g.po)(e);let t="cancel"===e;setTimeout(()=>{a(t)},100)};return(0,r.useEffect)(()=>{let e=setInterval(()=>{x(e=>e+1)},3750);return 4===h&&w("no_match"),()=>clearInterval(e)},[h]),(0,i.jsxs)(u.E.div,{className:s().listeningContainer,animate:{translateY:["100%","0%"]},transition:{duration:.5},children:[(0,i.jsx)("div",{className:s().logoHeadingContainer,children:(0,i.jsx)(c.IconShazamTitleLogo,{customHeight:100,customWidth:150,className:s().shazamLogo})}),(0,i.jsxs)("div",{className:s().main,children:[(0,i.jsxs)("div",{className:s().buttonAndCircles,children:[(0,i.jsxs)("div",{className:s().buttonContainer,children:[(0,i.jsx)(c.IconShazamLogo,{className:s().button,color:"#7CBEFD",customHeight:150,customWidth:150}),(0,i.jsx)("div",{className:s().listeningCircle,id:s().c1}),(0,i.jsx)("div",{className:s().listeningCircle,id:s().c2}),(0,i.jsx)("div",{className:s().listeningCircle,id:s().c3}),(0,i.jsx)("div",{className:s().listeningCircle,id:s().c4})]}),(0,i.jsxs)("div",{className:s().textContainer,children:[(0,i.jsx)(u.E.div,{animate:{opacity:[0,1],y:[0,-5]},transition:{duration:1,ease:"anticipate"},children:(0,i.jsx)(o.x,{sizes:["xs-3xl","md-4xl"],color:"white",weight:"bold",style:{marginBottom:"10px"},children:t[h]})},h),(0,i.jsx)(u.E.div,{animate:{opacity:[0,1],y:[0,-5]},transition:{duration:1,delay:.1,ease:"anticipate"},children:(0,i.jsx)(o.x,{sizes:["xs-large","md-2xl"],color:"white",children:n[h]})},h+10)]})]}),(0,i.jsx)("div",{className:s().cancelContainer,children:(0,i.jsx)(b.LT,{beaconDefinition:_.pS["ue-listen-canceled"],children:(0,i.jsx)(l.z,{variant:"secondary",caption:"Cancel",onClick:()=>w("cancel"),display:"block"})})})]}),(0,i.jsx)(d.PageView,{screenName:m.m.TAGGING}),f&&(0,i.jsx)(d.PageView,{screenName:m.m.NOMATCH})]})}},18507:function(e,t,n){"use strict";n.d(t,{pS:function(){return a}});let i={beaconType:"userevent"},a={"ue-fab-click":{...i,type:"taggingstarted",origin:"floatingbutton",_dynamic:{screenname:""}},"ue-listen-ended":{...i,type:"taggingended",origin:"floatingbutton",_dynamic:{outcome:"",track_adam_id:""}},"ue-listen-canceled":{...i,type:"taggingended",origin:"floatingbutton",outcome:"canceled",_dynamic:{timespent:""}},"ue-tag-success":{beaconType:"tagged",type:"tagged",platform:"web"}}},91543:function(e,t,n){"use strict";n.d(t,{_T:function(){return o},vk:function(){return u},zs:function(){return c}});let i=(e,t,n)=>{var i=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return .2126*i[0]+.7152*i[1]+.0722*i[2]},a=(e,t)=>{var n=i(e.r,e.g,e.b),a=i(t.r,t.g,t.b);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)},s=e=>{var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},r=e=>(Array.isArray(e)||(e=s(e)),a({r:255,g:255,b:255},e)),o=e=>(e=e.slice(1).toLowerCase().match(/.{1,2}/g)).some(function(e){return e<"c0"}),l=(e,t)=>{(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,a="#";for(i=0;i<3;i++)a+=("00"+(n=Math.round(Math.min(Math.max(0,(n=parseInt(e.substr(2*i,2),16))+n*t),255)).toString(16))).substr(n.length);return a},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let i=0,a=e,s=r(a);for(;s<t&&i<=n;)a=l(a,-.1),s=r(a),i++;return a}catch(t){return e}};function u(e){let t;return e&&(t=c(t=e,4.5)),(null==t?void 0:t.charAt(0))!=="#"&&(t="#"+t),t||"#000"}},47362:function(e){e.exports={floatingButtonContainer:"FloatingButtonContainer_floatingButtonContainer__K9Ry7",listeningScreen:"FloatingButtonContainer_listeningScreen__wvAGc"}},48783:function(e){e.exports={shazamButton:"FloatingShazamButton_shazamButton__WD_TY",buttonContainer:"FloatingShazamButton_buttonContainer__DZGwL",logoContainer:"FloatingShazamButton_logoContainer__8IG82",calloutContainer:"FloatingShazamButton_calloutContainer__ERGTc",mainText:"FloatingShazamButton_mainText__t1_BH",closeButtonContainer:"FloatingShazamButton_closeButtonContainer__xm7pf",disabledText:"FloatingShazamButton_disabledText__olOVP"}},48130:function(e){e.exports={listeningContainer:"ListeningScreen_listeningContainer__Xc0Ji",main:"ListeningScreen_main___A3XZ",textContainer:"ListeningScreen_textContainer__YJhEO",shazamLogo:"ListeningScreen_shazamLogo__at8Vs",logoHeadingContainer:"ListeningScreen_logoHeadingContainer__2iWqT",button:"ListeningScreen_button__GgzT9",buttonContainer:"ListeningScreen_buttonContainer__wDbXr",listeningCircle:"ListeningScreen_listeningCircle__BxSr1",growAndFade:"ListeningScreen_growAndFade__Hv1Ge",cancelContainer:"ListeningScreen_cancelContainer__uDo3e",c1:"ListeningScreen_c1__XPuPe",c2:"ListeningScreen_c2__H_qIq",c3:"ListeningScreen_c3__PsaiD",c4:"ListeningScreen_c4__QgcAb"}},28229:function(e){e.exports={interstitialContainer:"MatchInterstitial_interstitialContainer__zsK2i",titleText:"MatchInterstitial_titleText__zI_vL",artistText:"MatchInterstitial_artistText__k8HGL",lineClamp:"MatchInterstitial_lineClamp__ZQAtK"}}}]);